{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cao\\\\Desktop\\\\cashbook-online-by-react\\\\src\\\\views\\\\Count.tsx\",\n    _s = $RefreshSig$();\n\nimport Layout from \"../components/Layout\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { CategorySection } from \"./count/CategorySection\";\nimport { NumberPadSection } from \"./count/NumberPad\";\nimport { TagsSection } from \"./count/TagListSection\";\nimport { useRecords } from \"../hooks/useRecords\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyLayout = styled(Layout)`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    &.category{\n      display: none;\n    }\n`;\n_c = MyLayout;\nconst defaultFormData = {\n  tagIds: [],\n  note: '',\n  category: '-',\n  amount: 0\n};\n\nfunction Count() {\n  _s();\n\n  const [selected, setSelected] = useState(defaultFormData);\n\n  const onChange = obj => {\n    setSelected({ ...selected,\n      ...obj\n    });\n  };\n\n  const {\n    addRecord,\n    records\n  } = useRecords();\n\n  const submit = () => {\n    if (selected.amount === 0) {\n      return alert('请输入金额');\n    } else if (selected.tagIds.length <= 0) {\n      return alert('请选择一个标签');\n    } else {\n      addRecord(selected);\n      alert('提交成功');\n      window.location.reload();\n    }\n  };\n\n  if (selected.category = '-') {\n    return /*#__PURE__*/_jsxDEV(MyLayout, {\n      children: [/*#__PURE__*/_jsxDEV(CategorySection, {\n        value: selected.category,\n        onChange: category => onChange({\n          category\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TagsSection, {\n        value: selected.tagIds,\n        onChange: tagIds => onChange({\n          tagIds\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NumberPadSection, {\n        noteValue: selected.note,\n        noteValueOnChange: note => onChange({\n          note\n        }),\n        padValue: selected.amount,\n        padValueOnChange: amount => onChange({\n          amount\n        }),\n        onOK: submit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(Count, \"mcDytv0tchGo9zhUvhlrk0l4Uks=\", false, function () {\n  return [useRecords];\n});\n\n_c2 = Count;\nexport default Count;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MyLayout\");\n$RefreshReg$(_c2, \"Count\");","map":{"version":3,"names":["Layout","React","useState","styled","CategorySection","NumberPadSection","TagsSection","useRecords","MyLayout","defaultFormData","tagIds","note","category","amount","Count","selected","setSelected","onChange","obj","addRecord","records","submit","alert","length","window","location","reload"],"sources":["C:/Users/Cao/Desktop/cashbook-online-by-react/src/views/Count.tsx"],"sourcesContent":["import Layout from \"../components/Layout\";\r\nimport React, {useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {CategorySection} from \"./count/CategorySection\";\r\nimport {NumberPadSection} from \"./count/NumberPad\";\r\nimport {TagsSection} from \"./count/TagListSection\";\r\nimport {useRecords} from \"../hooks/useRecords\";\r\n\r\nconst MyLayout = styled(Layout)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    &.category{\r\n      display: none;\r\n    }\r\n`\r\nconst defaultFormData = {\r\n    tagIds: [] as number[],\r\n    note: ''as string,\r\n    category:'-' as ('-'|'+'),\r\n    amount: 0 as number,\r\n}\r\nfunction Count() {\r\n    const [selected,setSelected] = useState(defaultFormData)\r\n    const onChange = (obj:Partial<typeof selected>) => {\r\n        setSelected({\r\n            ...selected,\r\n            ...obj\r\n        })\r\n    }\r\n    const {addRecord,records} = useRecords()\r\n    const submit = () => {\r\n        if(selected.amount === 0){\r\n            return alert('请输入金额');\r\n        }else if(selected.tagIds.length<=0){\r\n            return alert('请选择一个标签');\r\n        }else {\r\n            addRecord(selected)\r\n            alert('提交成功')\r\n            window.location.reload()\r\n        }\r\n    }\r\n    if(selected.category = '-'){\r\n        return (\r\n            <MyLayout>\r\n                <CategorySection\r\n                    value={selected.category}\r\n                    onChange={category => onChange({category})}\r\n                >\r\n                </CategorySection>\r\n                <TagsSection\r\n                    value={selected.tagIds}\r\n                    onChange={tagIds => onChange({tagIds})}\r\n                >\r\n                </TagsSection>\r\n                <NumberPadSection\r\n                    noteValue = {selected.note}\r\n                    noteValueOnChange={note => onChange({note})}\r\n                    padValue= {selected.amount}\r\n                    padValueOnChange={amount => onChange({amount})}\r\n                    onOK={submit}\r\n                >\r\n                </NumberPadSection>\r\n            </MyLayout>\r\n        );\r\n    }else {\r\n        return (\r\n            <div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Count;"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,eAAR,QAA8B,yBAA9B;AACA,SAAQC,gBAAR,QAA+B,mBAA/B;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,UAAR,QAAyB,qBAAzB;;AAEA,MAAMC,QAAQ,GAAGL,MAAM,CAACH,MAAD,CAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;KAAMQ,Q;AAQN,MAAMC,eAAe,GAAG;EACpBC,MAAM,EAAE,EADY;EAEpBC,IAAI,EAAE,EAFc;EAGpBC,QAAQ,EAAC,GAHW;EAIpBC,MAAM,EAAE;AAJY,CAAxB;;AAMA,SAASC,KAAT,GAAiB;EAAA;;EACb,MAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBd,QAAQ,CAACO,eAAD,CAAvC;;EACA,MAAMQ,QAAQ,GAAIC,GAAD,IAAkC;IAC/CF,WAAW,CAAC,EACR,GAAGD,QADK;MAER,GAAGG;IAFK,CAAD,CAAX;EAIH,CALD;;EAMA,MAAM;IAACC,SAAD;IAAWC;EAAX,IAAsBb,UAAU,EAAtC;;EACA,MAAMc,MAAM,GAAG,MAAM;IACjB,IAAGN,QAAQ,CAACF,MAAT,KAAoB,CAAvB,EAAyB;MACrB,OAAOS,KAAK,CAAC,OAAD,CAAZ;IACH,CAFD,MAEM,IAAGP,QAAQ,CAACL,MAAT,CAAgBa,MAAhB,IAAwB,CAA3B,EAA6B;MAC/B,OAAOD,KAAK,CAAC,SAAD,CAAZ;IACH,CAFK,MAEA;MACFH,SAAS,CAACJ,QAAD,CAAT;MACAO,KAAK,CAAC,MAAD,CAAL;MACAE,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACH;EACJ,CAVD;;EAWA,IAAGX,QAAQ,CAACH,QAAT,GAAoB,GAAvB,EAA2B;IACvB,oBACI,QAAC,QAAD;MAAA,wBACI,QAAC,eAAD;QACI,KAAK,EAAEG,QAAQ,CAACH,QADpB;QAEI,QAAQ,EAAEA,QAAQ,IAAIK,QAAQ,CAAC;UAACL;QAAD,CAAD;MAFlC;QAAA;QAAA;QAAA;MAAA,QADJ,eAMI,QAAC,WAAD;QACI,KAAK,EAAEG,QAAQ,CAACL,MADpB;QAEI,QAAQ,EAAEA,MAAM,IAAIO,QAAQ,CAAC;UAACP;QAAD,CAAD;MAFhC;QAAA;QAAA;QAAA;MAAA,QANJ,eAWI,QAAC,gBAAD;QACI,SAAS,EAAIK,QAAQ,CAACJ,IAD1B;QAEI,iBAAiB,EAAEA,IAAI,IAAIM,QAAQ,CAAC;UAACN;QAAD,CAAD,CAFvC;QAGI,QAAQ,EAAGI,QAAQ,CAACF,MAHxB;QAII,gBAAgB,EAAEA,MAAM,IAAII,QAAQ,CAAC;UAACJ;QAAD,CAAD,CAJxC;QAKI,IAAI,EAAEQ;MALV;QAAA;QAAA;QAAA;MAAA,QAXJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAsBH,CAvBD,MAuBM;IACF,oBACI;MAAA;MAAA;MAAA;IAAA,QADJ;EAKH;AACJ;;GAlDQP,K;UAQuBP,U;;;MARvBO,K;AAmDT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}