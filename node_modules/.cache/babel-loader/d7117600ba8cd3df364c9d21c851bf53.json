{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport Layout from \"../components/Layout\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useRecords } from \"../hooks/useRecords\";\nconst MyLayout = styled(Layout)`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    &.category{\n      display: none;\n    }\n`;\nconst defaultFormData = {\n  tagIds: [],\n  note: '',\n  category: '-',\n  amount: 0\n};\n\nfunction Count() {\n  _s();\n\n  const [selected, setSelected] = useState(defaultFormData);\n\n  const onChange = obj => {\n    setSelected({ ...selected,\n      ...obj\n    });\n  };\n\n  const {\n    addRecord,\n    records\n  } = useRecords();\n\n  const submit = () => {\n    if (selected.amount === 0) {\n      return alert('请输入金额');\n    } else if (selected.tagIds.length <= 0) {\n      return alert('请选择一个标签');\n    } else {\n      addRecord(selected);\n      alert('提交成功');\n      window.location.reload();\n    }\n  };\n}\n\n_s(Count, \"mcDytv0tchGo9zhUvhlrk0l4Uks=\", false, function () {\n  return [useRecords];\n});\n\n_c = Count;\nexport default Count;\n\nvar _c;\n\n$RefreshReg$(_c, \"Count\");","map":{"version":3,"names":["Layout","useState","styled","useRecords","MyLayout","defaultFormData","tagIds","note","category","amount","Count","selected","setSelected","onChange","obj","addRecord","records","submit","alert","length","window","location","reload"],"sources":["C:/Users/Cao/Desktop/cashbook-online-by-react/src/views/Count.tsx"],"sourcesContent":["import Layout from \"../components/Layout\";\r\nimport React, {useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {CategorySection} from \"./count/CategorySection\";\r\nimport {NumberPadSection} from \"./count/NumberPad\";\r\nimport {TagsSection} from \"./count/TagListSection\";\r\nimport {useRecords} from \"../hooks/useRecords\";\r\n\r\nconst MyLayout = styled(Layout)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    &.category{\r\n      display: none;\r\n    }\r\n`\r\nconst defaultFormData = {\r\n    tagIds: [] as number[],\r\n    note: ''as string,\r\n    category:'-' as ('-'|'+'),\r\n    amount: 0 as number,\r\n}\r\nfunction Count() {\r\n    const [selected,setSelected] = useState(defaultFormData)\r\n    const onChange = (obj:Partial<typeof selected>) => {\r\n        setSelected({\r\n            ...selected,\r\n            ...obj\r\n        })\r\n    }\r\n    const {addRecord,records} = useRecords()\r\n    const submit = () => {\r\n        if(selected.amount === 0){\r\n            return alert('请输入金额');\r\n        }else if(selected.tagIds.length<=0){\r\n            return alert('请选择一个标签');\r\n        }else {\r\n            addRecord(selected)\r\n            alert('提交成功')\r\n            window.location.reload()\r\n        }\r\n    }\r\n}\r\nexport default Count;"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,SAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAIA,SAAQC,UAAR,QAAyB,qBAAzB;AAEA,MAAMC,QAAQ,GAAGF,MAAM,CAACF,MAAD,CAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;AAQA,MAAMK,eAAe,GAAG;EACpBC,MAAM,EAAE,EADY;EAEpBC,IAAI,EAAE,EAFc;EAGpBC,QAAQ,EAAC,GAHW;EAIpBC,MAAM,EAAE;AAJY,CAAxB;;AAMA,SAASC,KAAT,GAAiB;EAAA;;EACb,MAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBX,QAAQ,CAACI,eAAD,CAAvC;;EACA,MAAMQ,QAAQ,GAAIC,GAAD,IAAkC;IAC/CF,WAAW,CAAC,EACR,GAAGD,QADK;MAER,GAAGG;IAFK,CAAD,CAAX;EAIH,CALD;;EAMA,MAAM;IAACC,SAAD;IAAWC;EAAX,IAAsBb,UAAU,EAAtC;;EACA,MAAMc,MAAM,GAAG,MAAM;IACjB,IAAGN,QAAQ,CAACF,MAAT,KAAoB,CAAvB,EAAyB;MACrB,OAAOS,KAAK,CAAC,OAAD,CAAZ;IACH,CAFD,MAEM,IAAGP,QAAQ,CAACL,MAAT,CAAgBa,MAAhB,IAAwB,CAA3B,EAA6B;MAC/B,OAAOD,KAAK,CAAC,SAAD,CAAZ;IACH,CAFK,MAEA;MACFH,SAAS,CAACJ,QAAD,CAAT;MACAO,KAAK,CAAC,MAAD,CAAL;MACAE,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACH;EACJ,CAVD;AAWH;;GApBQZ,K;UAQuBP,U;;;KARvBO,K;AAqBT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}