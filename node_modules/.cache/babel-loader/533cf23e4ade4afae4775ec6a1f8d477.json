{"ast":null,"code":"import React from\"react\";import Icon from\"../../components/Icon\";import{Link}from\"react-router-dom\";import classnames from'classnames';import{TagListSection}from\"./PayTagListSection\";import{useTags}from\"../../hooks/useTags\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var IncomeTagListSection=function IncomeTagListSection(props){var selectedTagIds=props.value;var onToggleTag=function onToggleTag(tagId){// console.log(typeof setSelectedTags)\nvar index=selectedTagIds.indexOf(tagId);if(index>=0){props.onChange(selectedTagIds.filter(function(t){return t!==tagId;}));}else{props.onChange([tagId]);}};var _useTags=useTags(),tags=_useTags.tags,IconMap=_useTags.IconMap;return/*#__PURE__*/_jsx(TagListSection,{children:/*#__PURE__*/_jsxs(\"div\",{children:[tags.map(function(tag){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){onToggleTag(tag.id);},className:classnames(tag.category==='+'?'':'hidden',selectedTagIds.indexOf(tag.id)>=0?'selected':''),children:[/*#__PURE__*/_jsx(Icon,{name:IconMap[tag.id]||'猫猫'}),tag.name]},tag.id);}),/*#__PURE__*/_jsxs(Link,{to:\"/IncomeTagsSettings\",children:[/*#__PURE__*/_jsx(Icon,{name:\"\\u8BBE\\u7F6E\"}),\"\\u8BBE\\u7F6E\"]})]})});};export{IncomeTagListSection};","map":{"version":3,"names":["React","Icon","Link","classnames","TagListSection","useTags","IncomeTagListSection","props","selectedTagIds","value","onToggleTag","tagId","index","indexOf","onChange","filter","t","tags","IconMap","map","tag","id","category","name"],"sources":["C:/Users/Cao/Desktop/cashbook-online-by-react/src/views/count/IncomeTagListSection.tsx"],"sourcesContent":["\r\nimport React from \"react\";\r\nimport Icon from \"../../components/Icon\";\r\nimport {Link} from \"react-router-dom\";\r\nimport classnames from 'classnames';\r\nimport {TagListSection} from \"./PayTagListSection\";\r\nimport {useTags} from \"../../hooks/useTags\";\r\n\r\ninterface IncomeTagProps {\r\n    children?:React.ReactNode | React.ReactNode[];\r\n    value:number[];\r\n    onChange: (selected:number[]) => void;\r\n}\r\nconst IncomeTagListSection: React.FC<IncomeTagProps> = (props:IncomeTagProps) => {\r\n    const selectedTagIds = props.value;\r\n    const onToggleTag = (tagId:number) => {\r\n        // console.log(typeof setSelectedTags)\r\n        const index = selectedTagIds.indexOf(tagId)\r\n        if (index >= 0){\r\n            props.onChange(selectedTagIds.filter(t => t !== tagId));\r\n        }else {\r\n            props.onChange([tagId])\r\n        }\r\n    }\r\n    const {tags,IconMap} = useTags();\r\n    return(\r\n        <TagListSection>\r\n            <div>\r\n                {tags.map(tag=>\r\n                    <li key={tag.id} onClick={() => {onToggleTag(tag.id)}}\r\n                        className={classnames(tag.category==='+'?'':'hidden',selectedTagIds.indexOf(tag.id) >= 0 ? 'selected': '')}\r\n                    >\r\n                        <Icon name={IconMap[tag.id]||'猫猫'}/>\r\n                        {tag.name}\r\n                    </li>\r\n                )}\r\n                <Link to='/IncomeTagsSettings'>\r\n                    <Icon name=\"设置\"/>设置\r\n                </Link>\r\n            </div>\r\n        </TagListSection>\r\n    );\r\n}\r\nexport {IncomeTagListSection};\r\n"],"mappings":"AACA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,KAAP,KAAiB,uBAAjB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,WAAP,KAAuB,YAAvB,CACA,OAAQC,cAAR,KAA6B,qBAA7B,CACA,OAAQC,OAAR,KAAsB,qBAAtB,C,wFAOA,GAAMC,qBAA8C,CAAG,QAAjDA,qBAAiD,CAACC,KAAD,CAA0B,CAC7E,GAAMC,eAAc,CAAGD,KAAK,CAACE,KAA7B,CACA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAkB,CAClC;AACA,GAAMC,MAAK,CAAGJ,cAAc,CAACK,OAAf,CAAuBF,KAAvB,CAAd,CACA,GAAIC,KAAK,EAAI,CAAb,CAAe,CACXL,KAAK,CAACO,QAAN,CAAeN,cAAc,CAACO,MAAf,CAAsB,SAAAC,CAAC,QAAIA,EAAC,GAAKL,KAAV,EAAvB,CAAf,EACH,CAFD,IAEM,CACFJ,KAAK,CAACO,QAAN,CAAe,CAACH,KAAD,CAAf,EACH,CACJ,CARD,CASA,aAAuBN,OAAO,EAA9B,CAAOY,IAAP,UAAOA,IAAP,CAAYC,OAAZ,UAAYA,OAAZ,CACA,mBACI,KAAC,cAAD,wBACI,uBACKD,IAAI,CAACE,GAAL,CAAS,SAAAC,GAAG,qBACT,YAAiB,OAAO,CAAE,kBAAM,CAACV,WAAW,CAACU,GAAG,CAACC,EAAL,CAAX,CAAoB,CAArD,CACI,SAAS,CAAElB,UAAU,CAACiB,GAAG,CAACE,QAAJ,GAAe,GAAf,CAAmB,EAAnB,CAAsB,QAAvB,CAAgCd,cAAc,CAACK,OAAf,CAAuBO,GAAG,CAACC,EAA3B,GAAkC,CAAlC,CAAsC,UAAtC,CAAkD,EAAlF,CADzB,wBAGI,KAAC,IAAD,EAAM,IAAI,CAAEH,OAAO,CAACE,GAAG,CAACC,EAAL,CAAP,EAAiB,IAA7B,EAHJ,CAIKD,GAAG,CAACG,IAJT,GAASH,GAAG,CAACC,EAAb,CADS,EAAZ,CADL,cASI,MAAC,IAAD,EAAM,EAAE,CAAC,qBAAT,wBACI,KAAC,IAAD,EAAM,IAAI,CAAC,cAAX,EADJ,kBATJ,GADJ,EADJ,CAiBH,CA7BD,CA8BA,OAAQf,oBAAR"},"metadata":{},"sourceType":"module"}