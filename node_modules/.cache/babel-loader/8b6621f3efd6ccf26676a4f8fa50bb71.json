{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cao\\\\Desktop\\\\cashbook-online-by-react\\\\src\\\\views\\\\Count.tsx\",\n    _s = $RefreshSig$();\n\nimport Layout from \"../components/Layout\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { CategorySection } from \"./count/CategorySection\";\nimport { NumberPadSection } from \"./count/NumberPad\";\nimport { TagsSection } from \"./count/TagListSection\";\nimport { useRecords } from \"../hooks/useRecords\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyLayout = styled(Layout)`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n_c = MyLayout;\nconst defaultFormData = {\n  tagIds: [],\n  note: '',\n  category: '-',\n  amount: 0\n};\n\nfunction Count() {\n  _s();\n\n  const [selected, setSelected] = useState(defaultFormData);\n\n  const onChange = obj => {\n    setSelected({ ...selected,\n      ...obj\n    });\n  };\n\n  const {\n    addRecord,\n    records\n  } = useRecords();\n\n  const submit = () => {\n    if (selected.amount === 0) {\n      return;\n    } else addRecord(selected);\n\n    setSelected(defaultFormData);\n    alert('提交成功');\n  };\n\n  console.log(records);\n  return /*#__PURE__*/_jsxDEV(MyLayout, {\n    children: [/*#__PURE__*/_jsxDEV(CategorySection, {\n      value: selected.category,\n      onChange: category => onChange({\n        category\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(TagsSection, {\n      value: selected.tagIds,\n      onChange: tagIds => onChange({\n        tagIds\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NumberPadSection, {\n      noteValue: selected.note,\n      noteValueOnChange: note => onChange({\n        note\n      }) // noteValueOnChange={(note) => setSelected({\n      //     ...selected,\n      //     note : note\n      // })}\n      ,\n      padValue: selected.amount,\n      padValueOnChange: amount => onChange({\n        amount\n      }),\n      onOK: submit // padValueOnChange={(amount) => setSelected({\n      //     ...selected,\n      //     amount: amount\n      // })}\n      // onOK={()=>{}}\n\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Count, \"mcDytv0tchGo9zhUvhlrk0l4Uks=\", false, function () {\n  return [useRecords];\n});\n\n_c2 = Count;\nexport default Count;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MyLayout\");\n$RefreshReg$(_c2, \"Count\");","map":{"version":3,"names":["Layout","React","useState","styled","CategorySection","NumberPadSection","TagsSection","useRecords","MyLayout","defaultFormData","tagIds","note","category","amount","Count","selected","setSelected","onChange","obj","addRecord","records","submit","alert","console","log"],"sources":["C:/Users/Cao/Desktop/cashbook-online-by-react/src/views/Count.tsx"],"sourcesContent":["import Layout from \"../components/Layout\";\r\nimport React, {useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {CategorySection} from \"./count/CategorySection\";\r\nimport {NumberPadSection} from \"./count/NumberPad\";\r\nimport {TagsSection} from \"./count/TagListSection\";\r\nimport {useRecords} from \"../hooks/useRecords\";\r\n\r\nconst MyLayout = styled(Layout)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n`\r\nconst defaultFormData = {\r\n    tagIds: [] as number[],\r\n    note: ''as string,\r\n    category:'-' as ('-'|'+'),\r\n    amount: 0 as number,\r\n}\r\nfunction Count() {\r\n    const [selected,setSelected] = useState(defaultFormData)\r\n    const onChange = (obj:Partial<typeof selected>) => {\r\n        setSelected({\r\n            ...selected,\r\n            ...obj\r\n        })\r\n    }\r\n    const {addRecord,records} = useRecords()\r\n    const submit = () => {\r\n        if(selected.amount === 0){\r\n            return;\r\n        }else\r\n        addRecord(selected)\r\n        setSelected(defaultFormData)\r\n        alert('提交成功')\r\n    }\r\n    console.log(records);\r\n    return (\r\n        <MyLayout>\r\n                <CategorySection\r\n                    value={selected.category}\r\n                    onChange={category => onChange({category})}\r\n                >\r\n                </CategorySection>\r\n            <TagsSection value = {selected.tagIds}\r\n                         onChange={tagIds => onChange({tagIds})}\r\n            >\r\n            </TagsSection>\r\n                <NumberPadSection\r\n                    noteValue = {selected.note}\r\n                    noteValueOnChange={note => onChange({note})}\r\n                      // noteValueOnChange={(note) => setSelected({\r\n                      //     ...selected,\r\n                      //     note : note\r\n                      // })}\r\n                    padValue= {selected.amount}\r\n                    padValueOnChange={amount => onChange({amount})}\r\n                    onOK={submit}\r\n                      // padValueOnChange={(amount) => setSelected({\r\n                      //     ...selected,\r\n                      //     amount: amount\r\n                      // })}\r\n                      // onOK={()=>{}}\r\n                >\r\n                </NumberPadSection>\r\n        </MyLayout>\r\n    );\r\n}\r\nexport default Count;"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,eAAR,QAA8B,yBAA9B;AACA,SAAQC,gBAAR,QAA+B,mBAA/B;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,UAAR,QAAyB,qBAAzB;;AAEA,MAAMC,QAAQ,GAAGL,MAAM,CAACH,MAAD,CAAS;AAChC;AACA;AACA;AACA,CAJA;KAAMQ,Q;AAKN,MAAMC,eAAe,GAAG;EACpBC,MAAM,EAAE,EADY;EAEpBC,IAAI,EAAE,EAFc;EAGpBC,QAAQ,EAAC,GAHW;EAIpBC,MAAM,EAAE;AAJY,CAAxB;;AAMA,SAASC,KAAT,GAAiB;EAAA;;EACb,MAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBd,QAAQ,CAACO,eAAD,CAAvC;;EACA,MAAMQ,QAAQ,GAAIC,GAAD,IAAkC;IAC/CF,WAAW,CAAC,EACR,GAAGD,QADK;MAER,GAAGG;IAFK,CAAD,CAAX;EAIH,CALD;;EAMA,MAAM;IAACC,SAAD;IAAWC;EAAX,IAAsBb,UAAU,EAAtC;;EACA,MAAMc,MAAM,GAAG,MAAM;IACjB,IAAGN,QAAQ,CAACF,MAAT,KAAoB,CAAvB,EAAyB;MACrB;IACH,CAFD,MAGAM,SAAS,CAACJ,QAAD,CAAT;;IACAC,WAAW,CAACP,eAAD,CAAX;IACAa,KAAK,CAAC,MAAD,CAAL;EACH,CAPD;;EAQAC,OAAO,CAACC,GAAR,CAAYJ,OAAZ;EACA,oBACI,QAAC,QAAD;IAAA,wBACQ,QAAC,eAAD;MACI,KAAK,EAAEL,QAAQ,CAACH,QADpB;MAEI,QAAQ,EAAEA,QAAQ,IAAIK,QAAQ,CAAC;QAACL;MAAD,CAAD;IAFlC;MAAA;MAAA;MAAA;IAAA,QADR,eAMI,QAAC,WAAD;MAAa,KAAK,EAAIG,QAAQ,CAACL,MAA/B;MACa,QAAQ,EAAEA,MAAM,IAAIO,QAAQ,CAAC;QAACP;MAAD,CAAD;IADzC;MAAA;MAAA;MAAA;IAAA,QANJ,eAUQ,QAAC,gBAAD;MACI,SAAS,EAAIK,QAAQ,CAACJ,IAD1B;MAEI,iBAAiB,EAAEA,IAAI,IAAIM,QAAQ,CAAC;QAACN;MAAD,CAAD,CAFvC,CAGM;MACA;MACA;MACA;MANN;MAOI,QAAQ,EAAGI,QAAQ,CAACF,MAPxB;MAQI,gBAAgB,EAAEA,MAAM,IAAII,QAAQ,CAAC;QAACJ;MAAD,CAAD,CARxC;MASI,IAAI,EAAEQ,MATV,CAUM;MACA;MACA;MACA;MACA;;IAdN;MAAA;MAAA;MAAA;IAAA,QAVR;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA8BH;;GAhDQP,K;UAQuBP,U;;;MARvBO,K;AAiDT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}