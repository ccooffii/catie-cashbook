{"ast":null,"code":"import _slicedToArray from\"C:/Users/Cao/Desktop/cashbook-online-by-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/Cao/Desktop/cashbook-online-by-react/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import styled from\"styled-components\";import React,{useState}from\"react\";import{generateOutput}from\"./NumberPadSection/generateOutput\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NumberPad=styled.section(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  background-color: rgb(246,209,105);\\n  border-top: 2px solid black;\\n  border-bottom-right-radius: 10px;\\n  border-bottom-left-radius: 10px;\\n  font-weight: bolder;\\n  margin-right: 0.5px;\\n  overflow-x: hidden;\\n  width: 100vw;\\n    >.note{\\n      overflow-x: hidden;\\n      overflow-y: hidden;\\n      margin-top: 5px;\\n      display: flex;\\n      height: 36px;\\n      text-align: center;\\n      flex-direction: row;\\n      align-items: center;\\n      padding-right: 15px;\\n      padding-left: 15px;\\n      flex-wrap: nowrap;\\n      font-size: 20px;\\n      user-select: text;\\n      -webkit-user-select: text;\\n      >input{\\n        overflow-x: hidden;\\n        height: 100%;\\n        margin-right: 5px;\\n        margin-left: 5px;\\n        background: none;\\n        border:none;\\n        max-width: 30%;\\n        user-select: text;\\n        -webkit-user-select: text;\\n      }\\n      .output{\\n\\n        overflow-x: hidden;\\n        width: auto;\\n        line-height: 72px;\\n      }\\n    }\\n  >.clearfix::after{\\n    content: \\\"\\\";\\n    display: block;\\n    clear:both;\\n\\n    overflow-x: hidden;\\n  }\\n  >.pad{\\n    padding-left: 1%;\\n    overflow-x: hidden;\\n    > button{\\n      background-color: rgb(255,255,255);\\n      box-shadow: inset -1px -3px 0px rgba(0,0,0,0.25);\\n      border-radius: 10px;\\n      border: 2px solid black;\\n      margin-right: 1%;\\n      margin-bottom: 1%;\\n      font-size: 18px;\\n      float:left;\\n      width: 24%;\\n      height: 56px;\\n      font-weight: bolder;  \\n      &.OK{\\n        height: 116px;\\n        float: right;\\n        background-color: rgb(232,130,148);\\n        color:white;\\n      }\\n      &.dot{\\n        width: 49%;\\n      }\\n    }\\n  }\\n\"])));var NumberPadSection=function NumberPadSection(props){var note=props.noteValue;var _useState=useState(props.padValue.toString()),_useState2=_slicedToArray(_useState,2),output=_useState2[0],_setOutput=_useState2[1];var tempOutput;var setOutput=function setOutput(output){if(output.length>12){tempOutput=output.slice(0,12);}else if(output.length===0){tempOutput='0';}else{tempOutput=output;}_setOutput(tempOutput);props.padValueOnChange(parseFloat(tempOutput));};var onClickNumberPad=function onClickNumberPad(e){var text=e.target.textContent;if(text===null){return;}if(text==='OK'){if(props.onOK){props.onOK();}return;}if('0123456789.'.split('').concat(['DELETE','CLEAR']).indexOf(text)>=0){setOutput(generateOutput(text,output));}};return/*#__PURE__*/_jsxs(NumberPad,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"note\",children:[\"\\u5907\\u6CE8:\",/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u6DFB\\u52A0\\u5907\\u6CE8\",type:\"text\",value:note,onChange:function onChange(e){return props.noteValueOnChange(e.target.value);}}),\"$:\",/*#__PURE__*/_jsx(\"div\",{className:\"output\",children:output})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pad clearfix\",onClick:onClickNumberPad,children:[/*#__PURE__*/_jsx(\"button\",{children:\"1\"}),/*#__PURE__*/_jsx(\"button\",{children:\"2\"}),/*#__PURE__*/_jsx(\"button\",{children:\"3\"}),/*#__PURE__*/_jsx(\"button\",{children:\"DELETE\"}),/*#__PURE__*/_jsx(\"button\",{children:\"4\"}),/*#__PURE__*/_jsx(\"button\",{children:\"5\"}),/*#__PURE__*/_jsx(\"button\",{children:\"6\"}),/*#__PURE__*/_jsx(\"button\",{children:\"CLEAR\"}),/*#__PURE__*/_jsx(\"button\",{children:\"7\"}),/*#__PURE__*/_jsx(\"button\",{children:\"8\"}),/*#__PURE__*/_jsx(\"button\",{children:\"9\"}),/*#__PURE__*/_jsx(\"button\",{className:\"OK\",children:\"OK\"}),/*#__PURE__*/_jsx(\"button\",{children:\"0\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dot\",children:\".\"})]})]});};export{NumberPadSection};","map":{"version":3,"names":["styled","React","useState","generateOutput","NumberPad","section","NumberPadSection","props","note","noteValue","padValue","toString","output","_setOutput","tempOutput","setOutput","length","slice","padValueOnChange","parseFloat","onClickNumberPad","e","text","target","textContent","onOK","split","concat","indexOf","noteValueOnChange","value"],"sources":["C:/Users/Cao/Desktop/cashbook-online-by-react/src/views/count/NumberPad.tsx"],"sourcesContent":["import styled from \"styled-components\";\r\nimport React, {useState} from \"react\";\r\nimport {generateOutput} from \"./NumberPadSection/generateOutput\";\r\ninterface padProps {\r\n    children?:React.ReactNode;\r\n    noteValue:string;\r\n    noteValueOnChange: (value: string)=>void;\r\n    padValue:number;\r\n    padValueOnChange:(padValue:number) => void;\r\n    onOK?:()=>void;\r\n}\r\nconst NumberPad = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: rgb(246,209,105);\r\n  border-top: 2px solid black;\r\n  border-bottom-right-radius: 10px;\r\n  border-bottom-left-radius: 10px;\r\n  font-weight: bolder;\r\n  margin-right: 0.5px;\r\n  overflow-x: hidden;\r\n  width: 100vw;\r\n    >.note{\r\n      overflow-x: hidden;\r\n      overflow-y: hidden;\r\n      margin-top: 5px;\r\n      display: flex;\r\n      height: 36px;\r\n      text-align: center;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      padding-right: 15px;\r\n      padding-left: 15px;\r\n      flex-wrap: nowrap;\r\n      font-size: 20px;\r\n      user-select: text;\r\n      -webkit-user-select: text;\r\n      >input{\r\n        overflow-x: hidden;\r\n        height: 100%;\r\n        margin-right: 5px;\r\n        margin-left: 5px;\r\n        background: none;\r\n        border:none;\r\n        max-width: 30%;\r\n        user-select: text;\r\n        -webkit-user-select: text;\r\n      }\r\n      .output{\r\n\r\n        overflow-x: hidden;\r\n        width: auto;\r\n        line-height: 72px;\r\n      }\r\n    }\r\n  >.clearfix::after{\r\n    content: \"\";\r\n    display: block;\r\n    clear:both;\r\n\r\n    overflow-x: hidden;\r\n  }\r\n  >.pad{\r\n    padding-left: 1%;\r\n    overflow-x: hidden;\r\n    > button{\r\n      background-color: rgb(255,255,255);\r\n      box-shadow: inset -1px -3px 0px rgba(0,0,0,0.25);\r\n      border-radius: 10px;\r\n      border: 2px solid black;\r\n      margin-right: 1%;\r\n      margin-bottom: 1%;\r\n      font-size: 18px;\r\n      float:left;\r\n      width: 24%;\r\n      height: 56px;\r\n      font-weight: bolder;  \r\n      &.OK{\r\n        height: 116px;\r\n        float: right;\r\n        background-color: rgb(232,130,148);\r\n        color:white;\r\n      }\r\n      &.dot{\r\n        width: 49%;\r\n      }\r\n    }\r\n  }\r\n`\r\nconst NumberPadSection: React.FC<padProps> = (props) => {\r\n    let note = props.noteValue;\r\n    const [output,_setOutput] = useState(props.padValue.toString());\r\n    let tempOutput:string;\r\n    const setOutput = (output:string) => {\r\n        if(output.length > 12){\r\n            tempOutput = output.slice(0,12)\r\n        }else if (output.length === 0){\r\n            tempOutput = '0';\r\n        }else{\r\n            tempOutput = output;\r\n        }\r\n        _setOutput(tempOutput)\r\n       props.padValueOnChange(parseFloat(tempOutput));\r\n    };\r\n    const onClickNumberPad = (e:React.MouseEvent) => {\r\n        const text = (e.target as HTMLButtonElement).textContent;\r\n        if (text === null) {return;}\r\n        if (text === 'OK') {\r\n            if (props.onOK) {props.onOK();}\r\n            return;\r\n        }\r\n        if ('0123456789.'.split('').concat(['DELETE', 'CLEAR']).indexOf(text) >= 0) {\r\n            setOutput(generateOutput(text, output));\r\n        }\r\n    }\r\n    return (\r\n        <NumberPad>\r\n            <div className=\"note\">\r\n                备注:\r\n                <input placeholder=\"添加备注\" type=\"text\"\r\n                       value = {note}\r\n                       onChange={(e) => props.noteValueOnChange(e.target.value)}\r\n                />\r\n                $:\r\n                <div className=\"output\">\r\n                    {output}\r\n                </div>\r\n            </div>\r\n                <div className=\"pad clearfix\" onClick={onClickNumberPad}>\r\n                    <button>1</button>\r\n                    <button>2</button>\r\n                    <button>3</button>\r\n                    <button>DELETE</button>\r\n                    <button>4</button>\r\n                    <button>5</button>\r\n                    <button>6</button>\r\n                    <button>CLEAR</button>\r\n                    <button>7</button>\r\n                    <button>8</button>\r\n                    <button>9</button>\r\n                    <button className=\"OK\">OK</button>\r\n                    <button>0</button>\r\n                    <button className=\"dot\">.</button>\r\n                </div>\r\n        </NumberPad>\r\n);\r\n}\r\nexport {NumberPadSection};"],"mappings":"0SAAA,MAAOA,OAAP,KAAmB,mBAAnB,CACA,MAAOC,MAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,cAAR,KAA6B,mCAA7B,C,wFASA,GAAMC,UAAS,CAAGJ,MAAM,CAACK,OAAV,ixDAAf,CA8EA,GAAMC,iBAAoC,CAAG,QAAvCA,iBAAuC,CAACC,KAAD,CAAW,CACpD,GAAIC,KAAI,CAAGD,KAAK,CAACE,SAAjB,CACA,cAA4BP,QAAQ,CAACK,KAAK,CAACG,QAAN,CAAeC,QAAf,EAAD,CAApC,wCAAOC,MAAP,eAAcC,UAAd,eACA,GAAIC,WAAJ,CACA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACH,MAAD,CAAmB,CACjC,GAAGA,MAAM,CAACI,MAAP,CAAgB,EAAnB,CAAsB,CAClBF,UAAU,CAAGF,MAAM,CAACK,KAAP,CAAa,CAAb,CAAe,EAAf,CAAb,CACH,CAFD,IAEM,IAAIL,MAAM,CAACI,MAAP,GAAkB,CAAtB,CAAwB,CAC1BF,UAAU,CAAG,GAAb,CACH,CAFK,IAED,CACDA,UAAU,CAAGF,MAAb,CACH,CACDC,UAAU,CAACC,UAAD,CAAV,CACDP,KAAK,CAACW,gBAAN,CAAuBC,UAAU,CAACL,UAAD,CAAjC,EACF,CAVD,CAWA,GAAMM,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,CAAD,CAAwB,CAC7C,GAAMC,KAAI,CAAID,CAAC,CAACE,MAAH,CAAgCC,WAA7C,CACA,GAAIF,IAAI,GAAK,IAAb,CAAmB,CAAC,OAAQ,CAC5B,GAAIA,IAAI,GAAK,IAAb,CAAmB,CACf,GAAIf,KAAK,CAACkB,IAAV,CAAgB,CAAClB,KAAK,CAACkB,IAAN,GAAc,CAC/B,OACH,CACD,GAAI,cAAcC,KAAd,CAAoB,EAApB,EAAwBC,MAAxB,CAA+B,CAAC,QAAD,CAAW,OAAX,CAA/B,EAAoDC,OAApD,CAA4DN,IAA5D,GAAqE,CAAzE,CAA4E,CACxEP,SAAS,CAACZ,cAAc,CAACmB,IAAD,CAAOV,MAAP,CAAf,CAAT,CACH,CACJ,CAVD,CAWA,mBACI,MAAC,SAAD,yBACI,aAAK,SAAS,CAAC,MAAf,wCAEI,cAAO,WAAW,CAAC,0BAAnB,CAA0B,IAAI,CAAC,MAA/B,CACO,KAAK,CAAIJ,IADhB,CAEO,QAAQ,CAAE,kBAACa,CAAD,QAAOd,MAAK,CAACsB,iBAAN,CAAwBR,CAAC,CAACE,MAAF,CAASO,KAAjC,CAAP,EAFjB,EAFJ,mBAOI,YAAK,SAAS,CAAC,QAAf,UACKlB,MADL,EAPJ,GADJ,cAYQ,aAAK,SAAS,CAAC,cAAf,CAA8B,OAAO,CAAEQ,gBAAvC,wBACI,6BADJ,cAEI,6BAFJ,cAGI,6BAHJ,cAII,kCAJJ,cAKI,6BALJ,cAMI,6BANJ,cAOI,6BAPJ,cAQI,iCARJ,cASI,6BATJ,cAUI,6BAVJ,cAWI,6BAXJ,cAYI,eAAQ,SAAS,CAAC,IAAlB,gBAZJ,cAaI,6BAbJ,cAcI,eAAQ,SAAS,CAAC,KAAlB,eAdJ,GAZR,GADJ,CA+BH,CAzDD,CA0DA,OAAQd,gBAAR"},"metadata":{},"sourceType":"module"}